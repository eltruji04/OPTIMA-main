 <!DOCTYPE html>
 <html lang="es">
 <head>
     <!-- Meta Tags -->
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- Title -->
     <title>MRO - Aeronaves</title>
     <!-- Stylesheet -->
     <link rel="stylesheet" href="{{ url_for('static', filename='css/aircraft.css') }}">
 </head>
 <body>
     <!-- Main Container -->
     <div class="container">
         <!-- Header -->
         <h1>Aircraft Management</h1>
 
         <!-- Card for Adding a New Aircraft -->
         <!-- 
          * This section contains a form to add a new aircraft. 
          * Users can input details such as model, registration, year of manufacture, manufacturer, and passenger capacity.
          -->
         <div class="card">
             <div class="card-header">
                 <h3>Add new aircraft</h3>
             </div>
             <div class="card-body">
                 <form action="{{ url_for('mro.aircraft') }}" method="POST">
                     <div>
                         <label for="model" class="form-label">Aircraft model</label>
                         <input type="text" class="form-control" id="model" name="model" required>
                     </div>
                     <div>
                         <label for="registration" class="form-label">Registration</label>
                         <input type="text" class="form-control" id="registration" name="registration" required>
                     </div>
                     <div>
                         <label for="year_of_manufacture" class="form-label">Year of manufacture</label>
                         <input type="number" class="form-control" id="year_of_manufacture" name="year_of_manufacture" min="1900" max="{{ current_year }}" required>
                     </div>
                     <div>
                         <label for="manufacturer" class="form-label">Manufactere</label>
                         <input type="text" class="form-control" id="manufacturer" name="manufacturer" required>
                     </div>
                     <div>
                         <label for="passenger_capacity" class="form-label">Passenger capacity</label>
                         <input type="number" class="form-control" id="passenger_capacity" name="passenger_capacity" min="0">
                     </div>
                     <button type="submit" class="btn btn-primary">Add aircraft</button>
                 </form>
             </div>
         </div>
 
         <!-- List of Registered Aircraft -->
         <!-- 
          * Displays a table of all registered aircraft. Each row includes details such as ID, model, registration, 
          * year of manufacture, manufacturer, passenger capacity, and action buttons for editing, deleting, 
          * and viewing associated parts.
          -->
         <h2>Registered aircraft</h2>
         <table class="table table-striped">
             <thead>
                 <tr>
                     <th>ID</th>
                     <th>Model</th>
                     <th>Registration</th>
                     <th>Year of manufacture</th>
                     <th>Manufactere</th>
                     <th>Passenger capacity</th>
                     <th>Actions</th>
                 </tr>
             </thead>
             <tbody>
                 {% if aircraft_list %}
                     {% for aircraft in aircraft_list %}
                     <tr>
                         <td>{{ aircraft.id }}</td>
                         <td>{{ aircraft.model }}</td>
                         <td>{{ aircraft.registration }}</td>
                         <td>{{ aircraft.year_of_manufacture }}</td>
                         <td>{{ aircraft.manufacturer }}</td>
                         <td>{{ aircraft.passenger_capacity or 'N/A' }}</td>
                         <td>
                             <!-- Edit Button -->
                             <!-- 
                              * Links to the `mro.edit_aircraft` route to edit the details of the selected aircraft.
                              -->
                             <a href="{{ url_for('mro.edit_aircraft', aircraft_id=aircraft.id) }}" class="btn btn-sm btn-warning">Edit</a>
                             
                             <!-- Delete Button -->
                             <!-- 
                              * Sends a POST request to the `mro.delete_aircraft` route to delete the selected aircraft. 
                              * A confirmation dialog is displayed before submission to prevent accidental deletions.
                              -->
                             <form action="{{ url_for('mro.delete_aircraft', aircraft_id=aircraft.id) }}" method="POST" style="display:inline;">
                                 <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('¿Estás seguro de que deseas eliminar esta aeronave?');">
                                     Delete
                                 </button>
                             </form>
                             
                             <!-- View Parts Button -->
                             <!-- 
                              * Links to the `mro.aircraft_parts` route to view parts associated with the selected aircraft.
                              -->
                             <a href="{{ url_for('mro.aircraft_parts', aircraft_id=aircraft.id) }}" class="btn btn-sm btn-info">See pieces  </a>
                         </td>
                     </tr>
                     {% endfor %}
                 {% else %}
                     <tr>
                         <td colspan="7">There are no registered aircraft.</td>
                     </tr>
                 {% endif %}
             </tbody>
         </table>
     </div>
 </body>
 </html>